import{j as e,t as P,u as p,A as X,E as Y,r as Z,D as ee,F as se}from"./vendor-07f2838d.js";import{D as u,H as h,C as q,R as te,A as B,u as T,a as F,b as I,f as re}from"./formatting-d84f22f4.js";import{I as C}from"./index-64e650a4.js";import{u as E}from"./useDrivers-a78d86e7.js";import{u as O,a as A,b as G,c as L,d as M,e as H}from"./useSuspensions-15881cf8.js";(function(){try{var a=typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},s=new Error().stack;s&&(a._sentryDebugIds=a._sentryDebugIds||{},a._sentryDebugIds[s]="c06cacb4-8546-472e-98ed-57e1f8c524ff",a._sentryDebugIdIdentifier="sentry-dbid-c06cacb4-8546-472e-98ed-57e1f8c524ff")}catch{}})();const _=a=>{const{children:s,className:r}=a;return e.jsx("h3",{className:P("text-3xl font-bold dark:text-white mb-3",r),children:s})},k=a=>{const{children:s,className:r}=a;return e.jsx("h6",{className:P("text-lg font-bold dark:text-white mb-3",r),children:s})},U=a=>{const{stat:s}=a,{t:r}=p(["drivers"]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/3 justify-center",children:e.jsx(u,{className:"text-center",term:r("drivers:overtaking"),children:s.overtaking})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:defending"),children:s.defending})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:qualifying"),children:s.qualifying})})]}),e.jsx(h,{}),e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/2 justify-center",children:e.jsx(u,{className:"text-center",term:r("drivers:raceStart"),children:s.raceStart})}),e.jsx("div",{className:"flex w-1/2 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("drivers:tireManagement"),children:s.tireManagement})})]})]})},ae=a=>{const{stat:s}=a,{t:r}=p(["parts"]);return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/3 justify-center",children:e.jsx(u,{className:"text-center",term:r("parts:speed"),children:s.speed})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:cornering"),children:s.cornering})}),e.jsx("div",{className:"flex w-1/3 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:powerUnit"),children:s.powerUnit})})]}),e.jsx(h,{}),e.jsxs("div",{className:"flex flex-row gap-2 divide-x justify-between divide-gray-200 dark:divide-gray-700",children:[e.jsx("div",{className:"flex w-1/2 justify-center",children:e.jsx(u,{className:"text-center",term:r("parts:reliability"),children:s.reliability})}),e.jsx("div",{className:"flex w-1/2 justify-center pl-2",children:e.jsx(u,{className:"text-center",term:r("parts:pitStopTime"),children:s.pitStopTime.toFixed(2)})})]})]})},ie=a=>{const{children:s}=a;return e.jsx("div",{className:"grid justify-items-center max-sm:grid-cols-1 max-lg:grid-cols-2 max-2xl:grid-cols-3 grid-cols-4 gap-5",children:s})},D=a=>{const{asset:s,children:r}=a,{t:c}=p(),l=X(),n=!1,t=s.rarity==="stock",i=()=>{t||l(s.id.toString())};return e.jsx(q,{className:"",children:e.jsxs("div",{className:"p-3",children:[e.jsxs("div",{className:"flex flex-row justify-between items-center mb-2 gap-2 flex-wrap",children:[e.jsxs("button",{className:P("flex flex-row items-center gap-2 text-gray-900 dark:text-white",t?"cursor-not-allowed":"hover:underline hover:text-blue-600 hover:dark:text-blue-500"),onClick:i,children:[e.jsxs("h5",{className:"text-2xl font-bold tracking-tight",children:[s.name," "]}),!t&&e.jsx(C,{Icon:Y,size:20})]}),n]}),e.jsxs("div",{className:"flex flex-row justify-between items-center mb-3",children:[e.jsx("p",{className:"font-normal text-gray-700 dark:text-gray-400",children:c("series",{series:s.series})}),e.jsx(te,{rarity:s.rarity})]}),r]})},s.id)},z=a=>{const{bestParts:{bestBrake:s,bestEngine:r,bestFrontWing:c,bestGearbox:l,bestRearWing:n,bestSuspension:t}}=a,{t:i}=p(["parts"]),o=Z.useMemo(()=>[{data:s,label:i("parts:brake",{count:1})},{data:l,label:i("parts:gearbox",{count:1})},{data:n,label:i("parts:rearWing",{count:1})},{data:c,label:i("parts:frontWing",{count:1})},{data:t,label:i("parts:suspension",{count:1})},{data:r,label:i("parts:engine",{count:1})}],[s,r,c,l,n,t,i]);return e.jsx(ie,{children:o.map((d,g)=>e.jsxs("div",{className:"w-full",children:[e.jsx(k,{className:"mb-1",children:d.label}),e.jsxs(D,{asset:d.data.asset,children:[e.jsx(h,{}),e.jsx(ae,{stat:d.data.stat})]})]},g))})},V=a=>{const{bestDrivers:s}=a,{t:r}=p(["calculators"]);return s.hasTwoDrivers?e.jsxs("div",{className:"grid justify-items-center max-sm:grid-cols-1 grid-cols-2 gap-5 mb-5",children:[e.jsxs("div",{className:"max-w-sm w-full",children:[e.jsx(k,{className:"mb-1",children:r("calculators:driver1")}),e.jsxs(D,{asset:s.driver1.asset,children:[e.jsx(h,{}),e.jsx(U,{stat:s.driver1.stat})]})]}),e.jsxs("div",{className:"max-w-sm w-full",children:[e.jsx(k,{className:"mb-1",children:r("calculators:driver2")}),e.jsxs(D,{asset:s.driver2.asset,children:[e.jsx(h,{}),e.jsx(U,{stat:s.driver2.stat})]})]})]}):e.jsx(B,{severity:"warning",children:r("calculators:error.twoDriverRequired")})},m=a=>{const{children:s,title:r}=a;return e.jsx(q,{className:"max-w-[250px] w-full",children:e.jsx("div",{className:"p-3",children:e.jsx(u,{className:"text-center",term:r,children:s})})})},$=a=>{const{score:s}=a,{t:r}=p(["calculators"]);return e.jsx(m,{title:r("calculators:teamScore"),children:e.jsxs("div",{className:"flex flex-row justify-center items-center gap-2",children:[e.jsx(C,{Icon:ee,className:"cursor-pointer text-orange-500 dark:text-orange-400","data-tooltip-id":"team-score-tooltip-id",size:20}),s,e.jsx(se,{className:"z-50",id:"team-score-tooltip-id",variant:"warning",children:e.jsx("p",{className:"max-md:w-60 w-96",children:r("calculators:error.teamScoreProblem")})})]})})},J=a=>{const{bestParts:{sum:{cornering:s,pitStopTime:r,powerUnit:c,reliability:l,speed:n}}}=a,{t}=p(["parts"]);return e.jsxs("div",{className:"mb-3",children:[e.jsxs("div",{className:"max-md:hidden flex flex-row gap-2 justify-between w-full",children:[e.jsx(m,{title:t("parts:speed"),children:n}),e.jsx(m,{title:t("parts:powerUnit"),children:c}),e.jsx(m,{title:t("parts:cornering"),children:s}),e.jsx(m,{title:t("parts:reliability"),children:l}),e.jsx(m,{title:t("parts:pitStopTime"),children:r.toFixed(2)})]}),e.jsxs("div",{className:"md:hidden flex flex-col gap-2 items-center w-full",children:[e.jsxs("div",{className:"flex flex-row justify-evenly gap-2 w-full",children:[e.jsx(m,{title:t("parts:speed"),children:n}),e.jsx(m,{title:t("parts:powerUnit"),children:c}),e.jsx(m,{title:t("parts:cornering"),children:s})]}),e.jsxs("div",{className:"flex flex-row justify-evenly gap-2 w-full",children:[e.jsx(m,{title:t("parts:reliability"),children:l}),e.jsx(m,{title:t("parts:pitStopTime"),children:r.toFixed(2)})]})]})]})},ne=()=>{const a=E(),s=T(t=>t.drivers),r=a.filter(t=>Object.keys(s).map(i=>parseInt(i,10)).includes(t.id));if(r.length<2)return{driver1:void 0,driver2:void 0,hasTwoDrivers:!1};const c=r.map(t=>{const i=t.stats.find(o=>o.level===s[t.id].level);return{asset:t,score:i.score.weighted,stat:i}}),[l,n]=c.sort((t,i)=>t.score>i.score?-1:1);return{driver1:l,driver2:n,hasTwoDrivers:!0}},v=(a,s)=>{const r=T(t=>t[s]),l=a.filter(t=>Object.keys(r).map(i=>parseInt(i,10)).includes(t.id)).map(t=>{const i=t.stats.find(o=>o.level===r[t.id].level);return{asset:t,score:i.score.weighted,stat:i}}),[n]=l.sort((t,i)=>t.score>i.score?-1:1);return n},K=a=>{const{bestBrake:s,bestEngine:r,bestFrontWing:c,bestGearbox:l,bestRearWing:n,bestSuspension:t}=a;return{cornering:s.stat.cornering+r.stat.cornering+c.stat.cornering+l.stat.cornering+n.stat.cornering+t.stat.cornering,pitStopTime:s.stat.pitStopTime+r.stat.pitStopTime+c.stat.pitStopTime+l.stat.pitStopTime+n.stat.pitStopTime+t.stat.pitStopTime,powerUnit:s.stat.powerUnit+r.stat.powerUnit+c.stat.powerUnit+l.stat.powerUnit+n.stat.powerUnit+t.stat.powerUnit,reliability:s.stat.reliability+r.stat.reliability+c.stat.reliability+l.stat.reliability+n.stat.reliability+t.stat.reliability,speed:s.stat.speed+r.stat.speed+c.stat.speed+l.stat.speed+n.stat.speed+t.stat.speed}},ce=()=>{const a=O(),s=v(a,"brakes"),r=A(),c=v(r,"engines"),l=G(),n=v(l,"frontWings"),t=L(),i=v(t,"gearboxes"),o=M(),d=v(o,"rearWings"),g=H(),x=v(g,"suspensions"),w=K({bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x});return{bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x,sum:w}},Q=(a,s)=>{const{driver1:r,driver2:c,hasTwoDrivers:l}=a,{bestBrake:n,bestEngine:t,bestFrontWing:i,bestGearbox:o,bestRearWing:d,bestSuspension:g}=s,x=f=>f.cornering+f.powerUnit+f.reliability+f.reliability,w=n.stat.pitStopTime+t.stat.pitStopTime+i.stat.pitStopTime+o.stat.pitStopTime+d.stat.pitStopTime+g.stat.pitStopTime;let j=x(n.stat)+x(t.stat)+x(i.stat)+x(o.stat)+x(d.stat)+x(g.stat);const N=-46.28510327,y=283.2476075,S=N*w+y;return j+=S,l&&(j+=r.stat.statsSum,j+=c.stat.statsSum),j.toFixed(0)},le=()=>{const{t:a}=p(["calculators"]),s=ne(),r=ce(),c=Q(s,r);return e.jsxs(F,{maxWidth:"2xl",children:[e.jsx(_,{children:a("calculators:bestTeam")}),e.jsx("div",{className:"flex flex-row justify-center w-full mb-5",children:e.jsx($,{score:c})}),e.jsx(V,{bestDrivers:s}),e.jsx(J,{bestParts:r}),e.jsx(z,{bestParts:r})]})},oe=()=>{const a=E(),s=T(t=>t.drivers),r=a.filter(t=>Object.keys(s).map(i=>parseInt(i,10)).includes(t.id));if(r.length<2)return{driver1:void 0,driver2:void 0,hasTwoDrivers:!1};const c=r.map(t=>{const i=s[t.id],o=I(t.stats,i.level,i.cards);return{driver:t,driverUpgradeRequirements:o,maxStat:t.stats.find(d=>o.maxLevelAvailable===d.level)}}),[l,n]=c.sort((t,i)=>t.maxStat.score.weighted>i.maxStat.score.weighted?-1:1);return{driver1:{asset:l.driver,score:l.maxStat.score.weighted,stat:l.maxStat},driver2:{asset:n.driver,score:n.maxStat.score.weighted,stat:n.maxStat},hasTwoDrivers:!0,upgradeRequirements:{coinsNeeded:l.driverUpgradeRequirements.coinsNeeded+n.driverUpgradeRequirements.coinsNeeded}}},b=(a,s)=>{const r=T(t=>t[s]),l=a.filter(t=>Object.keys(r).map(i=>parseInt(i,10)).includes(t.id)).map(t=>{const i=r[t.id],o=I(t.stats,i.level,i.cards);return{maxStat:t.stats.find(d=>o.maxLevelAvailable===d.level),part:t,partUpgradeRequirements:o}}),[n]=l.sort((t,i)=>t.maxStat.score.weighted>i.maxStat.score.weighted?-1:1);return{asset:n.part,score:n.maxStat.score.weighted,stat:n.maxStat,upgradeRequirements:n.partUpgradeRequirements}},de=()=>{var N,y,S,f,R,W;const a=O(),s=b(a,"brakes"),r=A(),c=b(r,"engines"),l=G(),n=b(l,"frontWings"),t=L(),i=b(t,"gearboxes"),o=M(),d=b(o,"rearWings"),g=H(),x=b(g,"suspensions"),w=K({bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x}),j=(((N=s.upgradeRequirements)==null?void 0:N.coinsNeeded)??0)+(((y=c.upgradeRequirements)==null?void 0:y.coinsNeeded)??0)+(((S=n.upgradeRequirements)==null?void 0:S.coinsNeeded)??0)+(((f=i.upgradeRequirements)==null?void 0:f.coinsNeeded)??0)+(((R=d.upgradeRequirements)==null?void 0:R.coinsNeeded)??0)+(((W=x.upgradeRequirements)==null?void 0:W.coinsNeeded)??0);return{bestBrake:s,bestEngine:c,bestFrontWing:n,bestGearbox:i,bestRearWing:d,bestSuspension:x,sum:w,upgradeRequirements:{coinsNeeded:j}}},xe=()=>{var n,t;const{t:a}=p(["calculators"]),s=oe(),r=de(),c=Q(s,r),l=(((n=s.upgradeRequirements)==null?void 0:n.coinsNeeded)??0)+(((t=r.upgradeRequirements)==null?void 0:t.coinsNeeded)??0);return e.jsxs(e.Fragment,{children:[e.jsx(_,{children:a("calculators:bestTeamOnceUpgraded")}),e.jsxs("div",{className:"flex flex-row justify-center w-full mb-5 gap-5",children:[e.jsx($,{score:c}),e.jsx(m,{title:a("calculators:coinsNeeded"),children:re(l)})]}),e.jsx(V,{bestDrivers:s}),e.jsx(J,{bestParts:r}),e.jsx(z,{bestParts:r})]})},me=()=>{const{t:a}=p(["calculators"]);return e.jsxs(F,{maxWidth:"2xl",children:[e.jsx(B,{severity:"warning",children:a("calculators:error.teamScoreProblem")}),e.jsx(le,{}),e.jsx(h,{className:"my-10"}),e.jsx(xe,{})]})},ve=me;export{ve as CalculatorPage};
//# sourceMappingURL=index-295d4d8a.js.map
